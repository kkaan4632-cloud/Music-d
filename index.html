
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸŽµ Roblox MÃ¼zik ID Arama (Proxy ile)</title>
  <style>
    body { background:#0d0d0d; color:#fff; font-family:Arial, sans-serif; margin:0; padding:0; }
    header { text-align:center; padding:20px; font-size:22px; font-weight:700; color:#66ccff; }
    .box { max-width:700px; margin:20px auto; padding:20px; background:#1a1a1a; border-radius:10px; }
    input { width:75%; padding:10px; border:none; border-radius:5px; }
    button { padding:10px 15px; border:none; border-radius:5px; cursor:pointer; margin-left:5px; }
    button.search { background:#00cc99; color:#fff; }
    button.clear { background:#444; color:#fff; }
    .status { margin-top:10px; font-size:14px; color:#aaa; }
    .item { background:#262626; margin:10px 0; padding:10px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; }
    .item .actions button { margin-left:5px; }
    .small { font-size:13px; }
    .muted { color:#999; }
  </style>
</head>
<body>
  <header>ðŸŽµ Roblox MÃ¼zik ID Arama (Proxy ile)</header>
  <div class="box">
    <input id="query" placeholder="ÅžarkÄ± adÄ± veya kelime yaz (Ã¶r: 'hello')">
    <button class="search" onclick="search()">Ara</button>
    <button class="clear" onclick="clearResults()">Temizle</button>
    <div class="status" id="status"></div>
    <div id="results"></div>
  </div>

<script>
const proxies = [
  "https://api.allorigins.win/raw?url=",
  "https://corsproxy.io/?",
  "https://thingproxy.freeboard.io/fetch/",
  "https://yacdn.org/proxy/"
];

const robloxSearch = "https://catalog.roblox.com/v1/search/items?category=Audio&keyword=";
const statusEl = document.getElementById("status");
const resultsEl = document.getElementById("results");
let tried = 0;

function escapeHtml(t){return t.replace(/[&<>'"]/g,m=>({ "&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;" }[m]));}

function clearResults(){
  resultsEl.innerHTML = "";
  statusEl.innerText = "";
  document.getElementById("query").value = "";
}

function search(){
  const q = document.getElementById("query").value.trim();
  if(!q){alert("LÃ¼tfen bir ÅŸarkÄ± adÄ± yaz.");return;}
  resultsEl.innerHTML = "";
  statusEl.innerText = "AranÄ±yor...";
  tried = 0;
  tryProxy(q);
}

function tryProxy(query){
  if(tried >= proxies.length){
    statusEl.innerText = "TÃ¼m proxy denemeleri baÅŸarÄ±sÄ±z oldu.";
    return;
  }
  const proxy = proxies[tried];
  statusEl.innerText = `Proxy deneniyor (#${tried+1}): ${proxy}`;
  fetch(proxy + encodeURIComponent(robloxSearch + encodeURIComponent(query)))
    .then(r => r.json())
    .then(data => {
      statusEl.innerText = `BaÅŸarÄ±lÄ±! Proxy #${tried+1} ile alÄ±ndÄ±.`;
      renderResults(data);
    })
    .catch(err => {
      console.error("Hata:", err);
      tried++;
      tryProxy(query);
    });
}

function renderResults(data){
  resultsEl.innerHTML = "";
  function extractItems(obj){
    let found = [];
    if(Array.isArray(obj)){
      for(const x of obj){ found = found.concat(extractItems(x)); }
    }else if(obj && typeof obj === 'object'){
      const possibleId = obj.id || obj.assetId || obj.targetId || null;
      if(possibleId){
        const name = obj.name || obj.title || obj.displayName || "Ä°sim yok";
        found.push({id: possibleId, name});
      }
      for(const k in obj){ found = found.concat(extractItems(obj[k])); }
    }
    return found;
  }
  const list = extractItems(data);
  if(!list.length){
    resultsEl.innerHTML = `<div class="small muted">SonuÃ§ bulunamadÄ±. Ham veri konsola yazÄ±ldÄ±.</div>`;
    console.log("Ham veri:", data);
    return;
  }
  for(const it of list){
    const div = document.createElement('div');
    div.className = 'item';
    div.innerHTML = `
      <div>
        <div style="font-weight:700">${escapeHtml(it.name)}</div>
        <div class="small muted">ID: ${escapeHtml(String(it.id))}</div>
      </div>
      <div class="actions">
        <button onclick="copyId('${escapeHtml(String(it.id))}')">Kopyala</button>
        <button onclick="openId('${escapeHtml(String(it.id))}')">Roblox'ta AÃ§</button>
      </div>
    `;
    resultsEl.appendChild(div);
  }
}

function copyId(id){
  navigator.clipboard.writeText(id).then(()=>alert("KopyalandÄ±: " + id));
}
function openId(id){
  window.open("https://www.roblox.com/library/" + id, "_blank");
}
</script>
</body>
</html>

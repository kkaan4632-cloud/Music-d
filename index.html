<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Music Panel</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      margin: 0;
      padding: 0;
    }
    .light {
      background: #fff;
      color: #111;
    }
    header {
      padding: 10px;
      background: #222;
      text-align: center;
    }
    header button { margin: 5px; }
    .container {
      display: grid;
      grid-template-columns: 200px 1fr;
      height: calc(100vh - 50px);
    }
    .sidebar {
      background: #333;
      padding: 10px;
      overflow-y: auto;
    }
    .content {
      padding: 10px;
      overflow-y: auto;
    }
    .id-item { 
      background: #444;
      margin: 5px 0;
      padding: 5px;
      border-radius: 5px;
    }
    .chat-box {
      border: 1px solid #666;
      height: 200px;
      overflow-y: auto;
      padding: 5px;
      margin-bottom: 10px;
      background: #00000033;
    }
    .chat-msg { margin: 3px 0; }
    .admin-btn { color: red; cursor: pointer; margin-left: 5px; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <header>
    <h1>ðŸŽ¶ Music Panel</h1>
    <button onclick="toggleTheme()">ðŸŒ— Tema DeÄŸiÅŸtir</button>
  </header>
  <div class="container">
    <div class="sidebar">
      <h3>Kategoriler</h3>
      <div id="normalMusic"></div>
      <div id="phonkMusic"></div>
      <div id="rockMusic"></div>
      <div id="otherMusic"></div>

      <h3>âš¡ Aktif KullanÄ±cÄ±lar</h3>
      <div id="userList"></div>

      <h3>ðŸ”‘ Admin GiriÅŸi</h3>
      <input type="password" id="adminPass" placeholder="Åžifre">
      <button onclick="loginAdmin()">GiriÅŸ</button>

      <h3>ðŸ‘‘ Owner GiriÅŸi</h3>
      <input type="password" id="ownerPass" placeholder="Owner Åžifre">
      <button onclick="loginOwner()">GiriÅŸ</button>
    </div>
    <div class="content">
      <h2>ðŸ’¬ Sohbet</h2>
      <div class="chat-box" id="chat"></div>
      <input type="text" id="chatInput" placeholder="Mesaj yaz...">
      <button onclick="sendMessage()">GÃ¶nder</button>

      <div id="dmPanel" class="hidden">
        <h3>ðŸ“© DM Kutusu (<span id="dmTarget"></span>)</h3>
        <div class="chat-box" id="dmBox"></div>
        <input type="text" id="dmInput" placeholder="Mesaj yaz...">
        <button onclick="sendDM()">GÃ¶nder</button>
      </div>

      <div id="adminPanel" class="hidden">
        <h2>ðŸ”§ Admin Paneli</h2>
        <button onclick="announce()">ðŸ“¢ Duyuru Yap</button>
        <p>KullanÄ±cÄ±yÄ± banla (dakika):</p>
        <input type="text" id="banUser" placeholder="KullanÄ±cÄ± adÄ±">
        <input type="number" id="banTime" value="10">
        <button onclick="banUser()">Banla</button>
      </div>

      <div id="ownerPanel" class="hidden">
        <h2>ðŸ‘‘ OWNER Paneli</h2>
        <p>Etiket ver:</p>
        <input type="text" id="tagUser" placeholder="KullanÄ±cÄ± adÄ±">
        <input type="text" id="tagText" placeholder="Etiket">
        <button onclick="giveTag()">Ver</button>

        <p>Paket fiyat ayarla (Robux):</p>
        <input type="text" id="pkgName" placeholder="Paket adÄ±">
        <input type="number" id="pkgPrice" placeholder="Fiyat">
        <button onclick="setPackage()">Kaydet</button>
        <div id="pkgList"></div>
      </div>
    </div>
  </div>

<script>
let isAdmin = false;
let isOwner = false;
let username = "Guest" + Math.floor(Math.random()*1000);
let users = [];
let messages = [];
let dmMessages = {};
let packages = {};
let bans = {};

// ID listeleri
let normalIDs = [];
let phonkIDs = [];
let rockIDs = [];
let otherIDs = [];

function renderCategory(divId, title, arr){
  let div = document.getElementById(divId);
  div.innerHTML = `<h4>${title}</h4>`;
  arr.forEach((id,i)=>{
    div.innerHTML += `<div class="id-item">${id}
      ${isAdmin||isOwner?`<span class="admin-btn" onclick="deleteID('${divId}',${i})">Sil</span>`:""}
    </div>`;
  });
  if(isAdmin||isOwner){
    div.innerHTML += `<input id="new${divId}" placeholder="ID gir"><button onclick="addID('${divId}')">Ekle</button>`;
  }
}

function renderAll(){
  renderCategory("normalMusic","ðŸŽµ Normal",normalIDs);
  renderCategory("phonkMusic","ðŸ”¥ Phonk",phonkIDs);
  renderCategory("rockMusic","ðŸŽ¸ Rock",rockIDs);
  renderCategory("otherMusic","ðŸŽ§ DiÄŸer",otherIDs);
}

function addID(type){
  let input = document.getElementById("new"+type);
  let val = input.value.trim();
  if(!val) return;
  if(type=="normalMusic") normalIDs.push(val);
  if(type=="phonkMusic") phonkIDs.push(val);
  if(type=="rockMusic") rockIDs.push(val);
  if(type=="otherMusic") otherIDs.push(val);
  input.value="";
  renderAll();
}

function deleteID(type,i){
  if(type=="normalMusic") normalIDs.splice(i,1);
  if(type=="phonkMusic") phonkIDs.splice(i,1);
  if(type=="rockMusic") rockIDs.splice(i,1);
  if(type=="otherMusic") otherIDs.splice(i,1);
  renderAll();
}

function updateUserList(){
  let ul = document.getElementById("userList");
  ul.innerHTML = "";
  users.forEach(u=>{
    ul.innerHTML += `<div onclick="openDM('${u}')">${u} ${bans[u]?"(BanlÄ±)":""}</div>`;
  });
}

function sendMessage(){
  let val = document.getElementById("chatInput").value.trim();
  if(!val) return;
  if(bans[username] && bans[username]>Date.now()){
    alert("BanlÄ±sÄ±n!");
    return;
  }
  messages.push({u:username,m:val});
  document.getElementById("chatInput").value="";
  renderChat();
}

function renderChat(){
  let c = document.getElementById("chat");
  c.innerHTML="";
  messages.forEach(msg=>{
    c.innerHTML+=`<div class="chat-msg"><b>${msg.u}:</b> ${msg.m}</div>`;
  });
  c.scrollTop=c.scrollHeight;
}

function openDM(target){
  document.getElementById("dmPanel").classList.remove("hidden");
  document.getElementById("dmTarget").innerText=target;
  renderDM(target);
}

function sendDM(){
  let target=document.getElementById("dmTarget").innerText;
  let val=document.getElementById("dmInput").value.trim();
  if(!val) return;
  if(!dmMessages[target]) dmMessages[target]=[];
  dmMessages[target].push({from:username,msg:val});
  document.getElementById("dmInput").value="";
  renderDM(target);
}

function renderDM(target){
  let box=document.getElementById("dmBox");
  box.innerHTML="";
  (dmMessages[target]||[]).forEach(m=>{
    box.innerHTML+=`<div><b>${m.from}:</b> ${m.msg}</div>`;
  });
  box.scrollTop=box.scrollHeight;
}

function loginAdmin(){
  if(document.getElementById("adminPass").value=="1234"){
    isAdmin=true;
    document.getElementById("adminPanel").classList.remove("hidden");
    renderAll();
  }else alert("YanlÄ±ÅŸ ÅŸifre");
}
function loginOwner(){
  if(document.getElementById("ownerPass").value=="OWNERNEON"){
    isOwner=true;
    document.getElementById("ownerPanel").classList.remove("hidden");
    renderAll();
  }else alert("YanlÄ±ÅŸ ÅŸifre");
}

function announce(){
  let val=prompt("Duyuru mesajÄ±:");
  if(val){
    messages.push({u:"ðŸ“¢ DUYURU",m:val});
    renderChat();
  }
}

function banUser(){
  let u=document.getElementById("banUser").value;
  let t=parseInt(document.getElementById("banTime").value)*60000;
  bans[u]=Date.now()+t;
  updateUserList();
  alert(u+" banlandÄ±!");
}

function giveTag(){
  let u=document.getElementById("tagUser").value;
  let t=document.getElementById("tagText").value;
  messages.push({u:"OWNER",m:`${u} kiÅŸisine etiket verildi: ${t}`});
  renderChat();
}

function setPackage(){
  let n=document.getElementById("pkgName").value;
  let p=document.getElementById("pkgPrice").value;
  packages[n]=p;
  renderPackages();
}
function renderPackages(){
  let div=document.getElementById("pkgList");
  div.innerHTML="";
  for(let n in packages){
    div.innerHTML+=`<div>${n}: ${packages[n]} Robux</div>`;
  }
}

function toggleTheme(){
  document.body.classList.toggle("light");
}

users.push(username);
updateUserList();
renderAll();
</script>
</body>
</html>
